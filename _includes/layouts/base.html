<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ title }}</title>
  </head>
  {% include "partials/site-head.html" %}
  <body>
    {% block content %}{% endblock %}

  <section id="home"><h2>Home</h2></section>
  <section id="about"><h2>About</h2></section>
  <section id="services"><h2>Services</h2></section>
  <section id="contact"><h2>Contact</h2></section>
  </body>

  <script>
    const links = document.querySelectorAll('a');
    const sections = document.querySelectorAll('section');

    // Click event
    links.forEach(link => {
      link.addEventListener('click', () => {
        links.forEach(el => el.classList.remove('active'));
        link.classList.add('active');
      });
    });

    // Scroll-based activation
    window.addEventListener('scroll', () => {
      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop - 120;
        if (pageYOffset >= sectionTop) {
          current = section.getAttribute('id');
        }
      });

      links.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${current}`) {
          link.classList.add('active');
        }
      });
    });
  </script>
</html>

